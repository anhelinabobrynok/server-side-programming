<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–°–ø–∏—Å–æ–∫ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤ (API)</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .card { 
            border: 1px solid #ddd; 
            padding: 15px; 
            margin-bottom: 15px; 
            border-radius: 8px; 
            background-color: #f9f9f9; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .card h3 { margin-top: 0; color: #333; }
        .info-row { margin: 5px 0; color: #555; }
        
        .btn-delete { 
            background-color: #dc3545; 
            color: white; 
            border: none; 
            padding: 8px 15px; 
            cursor: pointer; 
            border-radius: 4px; 
            margin-top: 10px;
        }
        .btn-delete:hover { background-color: #c82333; }
        
        .btn-back { text-decoration: none; color: #007bff; font-weight: bold; }
        .error { color: red; border: 1px solid red; padding: 10px; background-color: #ffe6e6; }
    </style>
</head>
<body>

    <div class="header">
        <h1>–°–ø–∏—Å–æ–∫ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤ (–∑ –±–∞–∑–∏ –∫–æ–ª–µ–≥–∏)</h1>
        <a href="/" class="btn-back">‚Üê –ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
    </div>

    {% if error %}
        <div class="error">
            {{ error }}
            <br>
            <small>–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Å–µ—Ä–≤–µ—Ä –∫–æ–ª–µ–≥–∏ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 8001.</small>
        </div>
    {% endif %}

    <div class="list">
        {% for item in items %}
            <div class="card">
                <h3>üë§ {{ item.name }}</h3>
                
                <div class="info-row"><strong>üìß Email:</strong> {{ item.email }}</div>
                <div class="info-row"><strong>üì± –¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ item.phone_number }}</div>
                <div class="info-row"><small>ID –∑–∞–ø–∏—Å—É: {{ item.id }}</small></div>

                <form method="post">
                    {% csrf_token %}
                    <input type="hidden" name="item_id" value="{{ item.id }}">
                    <input type="hidden" name="endpoint" value="{{ endpoint }}">
                    
                    <button type="submit" class="btn-delete" onclick="return confirm('–í–∏ —Ç–æ—á–Ω–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –ø–∞—Ü—ñ—î–Ω—Ç–∞ {{ item.name }}?');">
                        –í–∏–¥–∞–ª–∏—Ç–∏ (API)
                    </button>
                </form>
            </div>
        {% empty %}
            {% if not error %}
                <p>–°–ø–∏—Å–æ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π. –î–æ–¥–∞–π—Ç–µ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤ —á–µ—Ä–µ–∑ –∞–¥–º—ñ–Ω–∫—É –∫–æ–ª–µ–≥–∏ (–ø–æ—Ä—Ç 8001).</p>
            {% endif %}
        {% endfor %}
    </div>

</body>
</html>